<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" lang="ja" xml:lang="ja" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
		<meta content="ja" http-equiv="Content-Language" />
		<title>完全削除（CompleteDelete）とは</title>
		<link href="main.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div class="pagehead">
			<table class="pagetitle">
				<tbody>
					<tr>
						<td><img alt="" border="0" height="32" src="pics/ico-trashcan95-1.png" width="32" /></td>
						<td width="100%">完全削除（CompleteDelete）とは</td>
						<td align="right"><a href="index.html" style="float: right;"><img alt="" border="0" height="18" src="pics/ico-home.png" width="61" /></a></td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="pagemain">
			<p>ファイル復元ソフトの能書曰く「間違って削除したファイルを復活することができる」。 一見便利そうなこの言葉の裏側に、大きな危険が潜んでいます。 
				普通に削除しただけのファイルは、容易に復活できることもあります。</p>
			<p>暗号化されていないWindowsのディスクは、たとえユーザのログオンパスワードが分からなくても、ディスクを取り出して解析されれば何の防御策もなく全データが取り出されてしまう可能性があります。このような場合、秘密にしておきたいデータを削除するときに、Windows標準の「削除」処理では不十分です。</p>
			<p>このソフトウエアは、削除したファイルを復元ソフトなどを用いて復元しにくくする、セキュリティ確保ツールです。具体的には、ファイルを乱数や特定の文字を書きこんでデータを完全に破壊します。</p>
			<h1>動作環境</h1>
			<p>Windows 95/98/Me/NT4/2000/XP/Vista/7</p>
			<ul>
				<li>
					FAT ファイル・システム</li>
				<li>
					NTFS ファイルシステム（<a href="003-ntfs.html">一部制限事項あり</a>）</li>
				<li>
					特別なファイル保護機能を組み込んでいないこと</li>
				<li>
					管理者権限不要（ユーザ権限で実行可能）</li>
			</ul>
			<p>プログラムの実行には、別途MFC71.DLLとMSVCR71.DLLが必要。また、Windowsが日本語版以外の場合は自動的に英語表記となります。</p>
			<h2>本ソフトウエアの各国政府基準対応可否について</h2>
			<p>拙作”完全削除”の<a href="005-config.html">機能設定</a>を工夫することで、各国のセキュリティ基準をどの程度満たせる可能性があるか、表に取りまとめてみました</p>
			<table>
				<tbody>
					<tr>
						<th>
							対応可否</th>
						<th>
							規格名</th>
						<th>
							制定年</th>
						<th>
							上書き回数</th>
						<th>
							上書きパターン</th>
						<th>
							備考</th>
					</tr>
					<tr>
						<td>可</td>
						<td>米国 NIST SP-800-88</td>
						<td>2006</td>
						<td>1回</td>
						<td>規定せず</td>
						<td>
							<br />
						</td>
					</tr>
					<tr>
						<td>否</td>
						<td>米国 NSA/CSS Policy Manual 9-12</td>
						<td>2006</td>
						<td>-</td>
						<td>
							<br />
						</td>
						<td>消磁または物理的破壊による</td>
					</tr>
					<tr>
						<td>可</td>
						<td>米国 NISP Operating Manual (DoD 5220.22-M)</td>
						<td>2006</td>
						<td>
							<br />
						</td>
						<td>
							<br />
						</td>
						<td>規定せず</td>
					</tr>
					<tr>
						<td>否</td>
						<td>米国 国防総省 Unclassified Computer Hard Drive Disposition</td>
						<td>2001</td>
						<td>3回</td>
						<td>ある文字, その補数の文字, 任意文字</td>
						<td>
							<br />
						</td>
					</tr>
					<tr>
						<td>否</td>
						<td>米国 海軍 Staff Office Publication NAVSO P-5239-26</td>
						<td>1993</td>
						<td>3回</td>
						<td>ある文字, その補数の文字, 乱数文字</td>
						<td>ベリファイ必須</td>
					</tr>
					<tr>
						<td>否</td>
						<td>米国 空軍 System Security Instruction 5020</td>
						<td>1996</td>
						<td>4回</td>
						<td>0, 1, 任意文字</td>
						<td>ベリファイ必須</td>
					</tr>
				</tbody>
			</table>
			<p>なお、ハードディスクの高密度化により、実際には1回の上書き処理で十分であるとアメリカ国立標準技術研究所（NIST）が2006年に発表したSpecial 
				Publication 
				800-88の7ページで述べています。つまり、実際には1回の上書き処理で十分だということです。（フロッピーディスクなど、低密度な記憶媒体では、以前に定められている基準の通り3回上書き等が必要）
			</p>
			<h1>機能の概略</h1>
			<p><a href="004-install.html">プログラムの初回起動時</a>に、デスクトップ上にアイコンが作られます（マウスの右クリック 
				メニューに入れることも可能）。完全削除したいファイルを、デスクトップ アイコンにドラッグ アンド ドロップするか、右クリック 
				メニューの項目を選択することでファイルの完全削除処理を行うことが出来ます。</p>
			<p><img alt="drag-and-drop." height="210" src="pics/drag-and-drop.png" width="461" /></p>
			<p>なお、間違って必要なファイルまで削除してしまう事故を防ぐため、ディレクトリ（フォルダ）の完全削除には対応させていません。ファイルを一つずつ削除してください。
			</p>
			<h2>もう少し詳しい技術的説明</h2>
			<p>このプログラムは、ファイルの読み込みと書き込みが物理ディスク上の同一クラスタであると仮定して、削除処理（データの上書き処理）を行っています。簡単にいえば、ファイルを上書きしているだけです。</p>
			<p>アメリカ国立標準技術研究所が2006年に出したレポートによれば、最近の高密度記録されているハードディスクでは削除回数（データの上書き回数）は1回でよいとされています。しかし、過去には複数回の上書き処理が推奨されていたこともあり、拙作”完全削除”では初期設定で複数回上書きするように設定されています（<a href="005-1-config.html">機能設定：基本設定</a>で上書き方法の設定が可能）。</p>
			<h2>本当に削除されているかの簡単な確認方法</h2>
			<p>USBフラッシュメモリに小さなパーティション（数百メガバイト）を作成し、そこに削除したいファイルを通常の利用形態で置いてください。そして、拙作「完全削除」で削除してください。</p>
			<p>その後、WindowsサポートツールのDiskProbe.exeまたはLinuxのddコマンド等でハードディスクの全クラスタを検索してください。この検索時の検索条件（検索文字列に日本語が使えるかどうかなど条件がある）にあった形のデータファイルを削除実験するのが楽かと思います。</p>
			<p>拙作「完全削除」製作時には、このような削除実験を各種メディア、フォーマット形式、ファイルサイズで実験し一般的な利用形態では問題ないことを確認していますが、念のためユーザ側でも検証していただいたほうが安心してお使いいただけると思います。
			</p>
			<p>簡易的に削除状態を確認するために、削除段階ごとにユーザの確認を求めるダイアログボックスを表示するモード（<a href="005-2-config.html">機能設定：表示モード設定</a>で設定可能）に切り替えることが出来ます。「単にファイルを上書きしている」ことを確認するレベルでよいのであれば、この機能をお使いください。</p>
			<h1>制限事項</h1>
			<p>次のような条件に合致する場合、完全削除されない可能性があります。技術的詳細は「<a href="003-ntfs.html">完全削除の限界と対処法</a>」を参照してください。</p>
			<ul>
				<li>
					Microsoft WordやExcelのような編集ごとに自動バックアップや、一時ファイルを作成するソフトウエアで扱われるファイル</li>
				<li>
					NTFS上のスパースファイル、暗号化ファイル、圧縮ファイル、MFT内のデータストリームに収まる1kBytes程度のファイル</li>
				<li>
					自動的にバックアップが作成されている、クラウド（ネットワーク ドライブ）上のファイルなど</li>
			</ul>
			<p>また、次の条件に合致するファイルは削除されず、エラーダイアログが表示されることもあります。</p>
			<ul>
				<li>
					ファイルサイズが2GBytesを越える場合（Visual C++ 2003版MFCでは32ビットファイルポインタを利用しているため）</li>
				<li>
					Windows98系の場合、DOSが認識できるより深いディレクトリにあるファイル</li>
				<li>
					多数のファイルをドラッグ アンド ドロップするなど、コマンドライン引数が規定（Windows98系の場合256Bytes, Windows 
					XP系の場合2048Bytes）サイズを超える場合</li>
				<li>
					ファイルへ書き込みが出来ない場合（CD-R,CD-RW,DVD-R,DVD-RWなど）</li>
			</ul>
			<p>Windows 7でヘルプファイルが表示できない場合、ファイル 
				エクスプローラでヘルプファイルを右クリックしてファイルのプロパティ画面を開き、セキュリティの「制限を解除する」ボタンを押すことで表示できるようになります。</p>
			<h1>より安全を期するために</h1>
			<p>技術的詳細は「<a href="003-ntfs.html">完全削除の限界と対処法</a>」に記載しましたが、次のような対処法を行うことで、仮に完全削除が出来ていない場合でもより安全性を高めることができます。</p>
			<ul>
				<li>
					仮想メモリの無効化（搭載メモリが十分ある場合、Windowsコントロールパネルのシステム設定で無効化しておきます）</li>
				<li>
					暗号化仮想ディスクの利用（TrueCryptの仮想ディスクを用いる）</li>
				<li>
					拙作”完全削除”で処理後、ディスクの空き領域を完全消去する（Windows XP系に標準添付のcipher.exeを用いる）</li>
				<li>
					Windowsデフラグの実行（並べ替えが行われるときに、上書きされる可能性がある程度の効果）</li>
			</ul>
		</div>
	</body>
</html>
